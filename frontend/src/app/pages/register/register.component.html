<section class="section auth-section" aria-label="Register">
  <div class="container d-flex justify-center">
    <div class="form-card">
      <h1 class="text-center mb-lg" style="color: var(--jam-white)">
        Create Your <span class="text-green">Account</span>
      </h1>
      <p class="text-center text-muted mb-xl" style="font-size: 0.92rem">
        Join us and explore authentic Jamaican heritage products.
      </p>

      <div *ngIf="error" class="alert alert-error mb-lg" role="alert">
        {{ error }}
      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
        <div class="form-group">
          <label for="reg-name">Full Name</label>
          <input
            id="reg-name"
            type="text"
            formControlName="name"
            autocomplete="name"
            placeholder="Your full name"
            [class.is-invalid]="submitted && f['name'].invalid"
          />
          <span
            *ngIf="submitted && f['name'].errors?.['required']"
            class="form-error"
            >Name is required.</span
          >
        </div>

        <div class="form-group">
          <label for="reg-email">Email</label>
          <input
            id="reg-email"
            type="email"
            formControlName="email"
            autocomplete="email"
            placeholder="you@example.com"
            [class.is-invalid]="submitted && f['email'].invalid"
          />
          <span
            *ngIf="submitted && f['email'].errors?.['required']"
            class="form-error"
            >Email is required.</span
          >
          <span
            *ngIf="submitted && f['email'].errors?.['email']"
            class="form-error"
            >Enter a valid email.</span
          >
        </div>

        <div class="form-group">
          <label for="reg-pass">Password</label>
          <input
            id="reg-pass"
            type="password"
            formControlName="password"
            autocomplete="new-password"
            placeholder="Min 8 chars, 1 uppercase, 1 number"
            [class.is-invalid]="submitted && f['password'].invalid"
          />
          <span
            *ngIf="submitted && f['password'].errors?.['required']"
            class="form-error"
            >Password is required.</span
          >
          <span
            *ngIf="submitted && f['password'].errors?.['minlength']"
            class="form-error"
            >Minimum 8 characters.</span
          >
          <span
            *ngIf="submitted && f['password'].errors?.['pattern']"
            class="form-error"
            >Must include uppercase and a number.</span
          >
        </div>

        <button
          type="submit"
          class="btn btn-accent btn-lg"
          style="width: 100%"
          [disabled]="loading"
        >
          {{ loading ? "Creating accountâ€¦" : "Create Account" }}
        </button>
      </form>

      <p class="text-center mt-lg text-muted" style="font-size: 0.9rem">
        Already have an account? <a routerLink="/login">Sign in</a>
      </p>
    </div>
  </div>
</section>
